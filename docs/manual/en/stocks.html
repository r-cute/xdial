

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stocks &mdash; xDial User Manual 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=2f1ad56e" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=8d563738"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/custom.js?v=c305ae36"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FAQ" href="faq.html" />
    <link rel="prev" title="Cryptocurrencies" href="crypto.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            xDial User Manual
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="wifi_provision.html">WiFi Provision</a></li>
<li class="toctree-l1"><a class="reference internal" href="input.html">Dial and Buttons</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="ota.html">OTA Update</a></li>
<li class="toctree-l1"><a class="reference internal" href="clock_faces.html">Clock Faces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="clock_faces.html#builtin-clock-faces">Builtin clock faces</a></li>
<li class="toctree-l2"><a class="reference internal" href="clock_faces.html#optional-clock-faces">Optional clock faces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="alarms.html">Alarms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="alarms.html#snooze-mode">Snooze mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="alarms.html#repeat">Repeat</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="weather.html">Weather</a></li>
<li class="toctree-l1"><a class="reference internal" href="perfmon.html">Perfmon</a><ul>
<li class="toctree-l2"><a class="reference internal" href="perfmon_win.html">Perfmon for Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="perfmon_gen.html">Other OS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="crypto.html">Cryptocurrencies</a><ul>
<li class="toctree-l2"><a class="reference internal" href="crypto.html#crypto-ids">Crypto ids</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Stocks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#stock-ids">Stock ids</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#when-pluged-nothing-shows-on-screen">When pluged, nothing shows on screen.</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-to-re-configure-wifi-settings">How to re-configure WiFi settings?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#settings-web-page-can-t-be-accessed">Settings web page can’t be accessed</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#weather-interface-shows-no-data">Weather interface shows no data</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#cryptocurrency-prices-not-showing">Cryptocurrency prices not showing</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#device-fails-to-reboot-after-firmware-update">Device fails to reboot after firmware update</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#device-repeatedly-reboots-after-downloading-new-clock-face">Device repeatedly reboots after downloading new clock face</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-to-factory-reset">How to factory reset?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#can-i-design-my-own-clock-face-and-share-it">Can I design my own clock face (and share it)?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#can-i-flash-3rd-party-firmware">Can I flash 3rd party firmware?</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">xDial User Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Stocks</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="stocks">
<h1>Stocks<a class="headerlink" href="#stocks" title="Link to this heading"></a></h1>
<div class="ver">
<b>Video guide</b>
<iframe src="https://www.bilibili.com/blackboard/html5mobileplayer.html?aid=113853459334536&bvid=BV1fvwzeuE4i&cid=27954251550&p=1&high_quality=1&danmaku=0" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe>
</div><p>In the menu interface, long press right button to switch between the Stock app and Cryptocurrency app.</p>
<p>The values below the line are: opening price, highest and lowest price in the day.</p>
<section id="stock-ids">
<h2>Stock ids<a class="headerlink" href="#stock-ids" title="Link to this heading"></a></h2>
<p id="ids">Note that stock ids are case sensitive!</p>
<ul class="simple">
<li><p>For <strong>American</strong> stocks, stock id is “us” + ticker symbol. e.g. Tesla is <cite>usTSLA</cite></p></li>
<li><p>Exchange markets in <strong>Chinese mainland</strong> includes Shanghai “sh”, Shenzhen “sz” and Beijing “bj” Exchange. e.g. 贵州茅台 <cite>sh600519</cite>, 平安银行 <cite>sz000001</cite>, 聚星科技 <cite>bj920111</cite></p></li>
<li><p>For <strong>Hong Kong</strong> exchange market, it’s “hk” + 5 digits. e.g. XiaoMi Corporation is <cite>hk01810</cite></p></li>
<li><p><strong>Taiwan</strong> stock has id format of “tse_xxxx.tw” for TWSE and “otc_xxxx.tw” for TPEx. e.g. 台積電 <cite>tse_2330.tw</cite></p></li>
</ul>
<script>
     eid=x=>document.getElementById(x);
   market_translate={'200':'US','100':'HK','51':'深圳','1':'上海','62':'北京'};
     tx_stock=s=>fetch('https://qt.gtimg.cn/q='+s).then(t=>t.arrayBuffer()).then(r=>new TextDecoder('GBK').decode(r));
   parse_stock=s=>tx_stock(s).then(r=>r.split('"')[1].split('~')).then(r=>{var o=Object.fromEntries(Object.entries({'Market':0,'Name':1,'Price':3,'Value':3,'Change':32,'Open':5,'High':33,'Low':34,'Name_EN':46}).map(([k,v])=>[k,r[v]]));o.currency='USD,CNY,HKD'.split(',').filter(x=>r.includes(x))[0];o.idx=r.includes('ZS');return o;});
     query_stock=async(s)=>{
             var ret = await parse_stock(s);
      if(ret.idx) {
         delete(ret.Price);
      } else {
         ret.Price += ' ' + ret.currency;
         delete(ret.Value);
      }
             ret.Change += '%';
      if(['100','200'].includes(ret.Market)) {
         ret.Name=ret.Name_EN;
      }
      delete(ret.Name_EN);delete(ret.Market);
      delete(ret.idx);delete(ret.currency);
             eid('tb').innerHTML = Object.entries(ret).map(([k,v])=>`<tr><td>${k}</td><td>${v}</td></tr>`).join('');
     };
</script>
<style>
   #tb{
      border-collapse: collapse;
      td{border:1px solid grey;padding-left:1em;padding-right: 1em}
      td:first-child{background-color: lightgrey}
   }
</style>
<div style="display:flex;justify-content:space-between;gap:0.15em"><input id='stock_id' placeholder="usTSLA" type='text' style="flex:1"/><button onclick='var st_id=eid("stock_id");if(st_id.value.length==0)st_id.value=st_id.placeholder;var sid=st_id.value.split(",")[0].trim();if(sid.endsWith(".tw"))location.href="https://mis.twse.com.tw/stock/detail-item?id="+sid;else query_stock(sid)'>测试</button></div>
<br><table id='tb'></table>
<br><br><br><br></section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="crypto.html" class="btn btn-neutral float-left" title="Cryptocurrencies" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="faq.html" class="btn btn-neutral float-right" title="FAQ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, hyan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>